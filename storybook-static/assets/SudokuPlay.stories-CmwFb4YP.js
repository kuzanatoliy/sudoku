var L=Object.defineProperty;var w=e=>{throw TypeError(e)};var K=(e,t,a)=>t in e?L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var D=(e,t,a)=>K(e,typeof t!="symbol"?t+"":t,a),O=(e,t,a)=>t.has(e)||w("Cannot "+a);var l=(e,t,a)=>(O(e,t,"read from private field"),a?a.call(e):t.get(e)),g=(e,t,a)=>t.has(e)?w("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,a),c=(e,t,a,u)=>(O(e,t,"write to private field"),u?u.call(e,a):t.set(e,a),a);var P=(e,t,a,u)=>({set _(s){c(e,t,s,a)},get _(){return l(e,t,u)}});import{h as W,e as v,l as N,i as T,c as C,n as U,I as $,a as j,t as z,j as M}from"./web-Db2XvEIl.js";import{S as B}from"./SudokuField-DIZvZ7a0.js";const A=(e,t)=>{const a=t%9,u=t-a;let s=Math.floor(t/3);return s=Math.floor(s/9)*27+s%3*3,e%9===a||e>=u&&e<u+9||e>=s&&e<s+3||e>=s+9&&e<s+12||e>=s+18&&e<s+21},H=()=>{};var m,y,n;class q{constructor(t,a=t!==0,u=0){g(this,m);g(this,y);g(this,n);D(this,"setValue",H);c(this,m,t),c(this,y,a),c(this,n,u),l(this,y)||(this.setValue=s=>{c(this,m,s)})}lock(){P(this,n)._++}unlock(){l(this,n)>0&&P(this,n)._--}get value(){return l(this,m)}get isReadOnly(){return l(this,y)}get isWrong(){return l(this,n)>0}getState(){return Object.freeze({value:this.value,isReadOnly:l(this,y),isWrong:this.isWrong})}}m=new WeakMap,y=new WeakMap,n=new WeakMap;var _=(e=>(e.LOCK="lock",e.UNLOCK="unlock",e))(_||{}),i,d;class G{constructor(t){g(this,i);g(this,d,(t,a,u)=>{for(let s=0;s<t.length;s++)s!==a&&A(s,a)&&t[s].value===t[a].value&&(t[s][u](),t[a][u]())});c(this,i,t.map(a=>new q(a)))}setValue(t,a){l(this,i)[t].value!==0&&l(this,d).call(this,l(this,i),t,_.UNLOCK),l(this,i)[t].setValue(a),a!==0&&l(this,d).call(this,l(this,i),t,_.LOCK)}isCompleted(){return l(this,i).every(t=>t.value>0&&!t.isWrong)}getState(){return l(this,i).map(t=>t.getState())}}i=new WeakMap,d=new WeakMap;const J="_sudokuplay_1uul4_1",Q="_sudokuplay_leftborder_1uul4_8",X="_sudokuplay_bottomborder_1uul4_12",b={sudokuplay:J,sudokuplay_leftborder:Q,sudokuplay_bottomborder:X};var Y=z("<div>");const Z=e=>{const t=[];return e%3===0&&e%9!==0&&t.push(b.sudokuplay_leftborder),(e>17&&e<27||e>44&&e<54)&&t.push(b.sudokuplay_bottomborder),t.join(" ")},x=e=>{let t,a;const[u,s]=v([]),[p,S]=v(-1);N(()=>{t=new G(e.initialPlay);const o=t.getState();s(o),a=new Array(o.length)});const E=()=>{S(-1)},F=o=>{let r=null;switch(o.key){case"ArrowUp":o.stopImmediatePropagation(),o.preventDefault(),r=p()-9,r<0&&(r+=81),a[r].focus();break;case"ArrowDown":o.stopImmediatePropagation(),o.preventDefault(),r=p()+9,r>80&&(r-=81),a[r].focus();break;case"ArrowLeft":o.stopImmediatePropagation(),o.preventDefault(),r=p(),r%9===0?r+=8:r--,a[r].focus();break;case"ArrowRight":o.stopImmediatePropagation(),o.preventDefault(),r=p(),r%9===8?r-=8:r++,a[r].focus();break}};return(()=>{var o=Y();return o.$$keydown=F,T(o,C($,{get each(){return u()},children:(r,f)=>C(B,{get size(){return e.size},get class(){return Z(f)},get value(){return r().value},get isDisabled(){return r().isReadOnly},get isError(){return r().isWrong},tabIndex:f===0?0:-1,get isHighlighted(){return U(()=>p()!==-1)()&&A(f,p())},onFocus:()=>{S(f)},onBlur:E,onChange:k=>{t.setValue(f,k),s(t.getState())},ref:k=>a[f]=k})})),j(()=>M(o,b.sudokuplay)),o})()};W(["keydown"]);const t0={title:"SudokuPage/SudokuPlay",component:x,tags:["autodocs"],argTypes:{initialPlay:{defaultValue:"Play 2",control:{type:"select"},mapping:{"Play 1":[0,7,0,0,6,2,0,5,0,0,6,0,0,0,9,0,0,4,8,0,0,4,1,0,0,0,6,6,0,4,5,0,0,2,0,9,7,0,5,0,0,4,3,0,0,2,0,0,1,0,6,0,4,0,0,0,8,3,0,7,6,0,5,0,0,0,0,4,0,0,1,2,5,2,0,0,0,0,0,3,0],"Play 2":[9,5,3,0,1,0,2,7,0,1,0,0,7,6,0,0,0,0,0,0,6,0,0,0,8,0,9,0,0,0,3,0,0,6,0,0,0,0,5,0,0,1,3,0,0,0,0,0,0,7,2,1,5,0,7,0,1,4,3,6,0,8,2,0,8,2,0,5,7,0,0,0,0,0,0,2,0,0,0,6,0],"Play 3":[1,2,0,5,0,4,0,0,0,0,4,0,0,0,0,9,2,0,3,0,0,0,0,0,1,0,0,9,0,0,4,0,0,0,5,6,7,0,0,9,0,0,0,0,0,4,0,2,0,6,0,0,0,0,5,0,3,2,0,9,6,4,0,0,0,0,6,0,0,0,3,0,2,7,0,0,0,3,0,0,0],"Play 4":[6,0,7,0,0,3,0,0,0,0,0,3,9,4,0,0,0,0,0,4,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,5,1,0,0,0,0,6,0,0,7,4,3,8,5,0,0,6,0,2,0,0,6,0,0,0,0,3,0,0,0,0,0,0,1,0,5,0,0]},options:["Play 1","Play 2","Play 3","Play 4"],description:"Initial play value",table:{type:{summary:"select"},defaultValue:{summary:"Play 2"}}}}},h={args:{initialPlay:t0.argTypes.initialPlay.table.defaultValue.summary}};var R,V,I;h.parameters={...h.parameters,docs:{...(R=h.parameters)==null?void 0:R.docs,source:{originalSource:`{
  args: {
    initialPlay: meta.argTypes.initialPlay.table.defaultValue.summary
  }
}`,...(I=(V=h.parameters)==null?void 0:V.docs)==null?void 0:I.source}}};const r0=["Default"];export{h as Default,r0 as __namedExportsOrder,t0 as default};
